(this["webpackJsonpmyreads-app"]=this["webpackJsonpmyreads-app"]||[]).push([[0],{24:function(e,n,t){e.exports=t(37)},29:function(e,n,t){},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(18),i=t.n(o),l=t(1),c=t(10),s=(t(29),t(2));const d="https://reactnd-books-api.udacity.com";let h=localStorage.token;h||(h=localStorage.token=Math.random().toString(36).substr(-8));const u={Accept:"application/json",Authorization:h},p=(e,n)=>fetch("".concat(d,"/books/").concat(e.id),{method:"PUT",headers:Object(c.a)({},u,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:n})}).then(e=>e.json());function m(){const e=Object(l.a)(["\n    font-size: 16px;\n  "]);return m=function(){return e},e}function f(){const e=Object(l.a)(["\n    font-size: 20px;\n  "]);return f=function(){return e},e}function b(){const e=Object(l.a)(["\n    font-size: 30px;\n  "]);return b=function(){return e},e}function g(){const e=Object(l.a)(['\nfont-family: "SF Pro Display","SF Pro Icons","Helvetica Neue","Helvetica","Arial",sans-serif;\nfont-style: bold;\nline-height: 141.7%;\ncolor: #000000;\nmargin-bottom:0;\n\n',"\n\n","\n","\n\n"]);return g=function(){return e},e}const x=s.b.h1(g(),e=>"big"===e.size&&Object(s.a)(b()),e=>"medium"===e.size&&Object(s.a)(f()),e=>"small"===e.size&&Object(s.a)(m()));var w=({children:e,size:n="1",className:t})=>r.a.createElement(x,{size:n},e);function E(){const e=Object(l.a)(["\n      font-size: 12px;\n    "]);return E=function(){return e},e}function v(){const e=Object(l.a)(["\n      font-size: 14px;\n    "]);return v=function(){return e},e}function k(){const e=Object(l.a)(['\n  font-family: "SF Pro Display", "SF Pro Icons", "Helvetica Neue", "Helvetica",\n    "Arial", sans-serif;\n  font-style: 300;\n  line-height: 141.7%;\n  color: #8b8b8b;\n  margin-top: 5px;\n\n  ',"\n  ","\n"]);return k=function(){return e},e}const y=s.b.p(k(),e=>"medium"===e.size&&Object(s.a)(v()),e=>"small"===e.size&&Object(s.a)(E()));var C=({children:e,size:n="medium",className:t})=>r.a.createElement(y,{size:n},e);function j(){const e=Object(l.a)(["\n  width: 15px;\n  height: 15px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return j=function(){return e},e}const L=({checked:e})=>r.a.createElement(O,null,e&&r.a.createElement("svg",{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.8107 1.5855L5.66281 11.4826L0.335693 6.74742L1.66442 5.2526L5.33731 8.51739L11.1894 0.41452L12.8107 1.5855Z",fill:"black"}))),O=s.b.div(j());function H(){const e=Object(l.a)(["\n  position: absolute;\n  top: 50px;\n  left: 0;\n  background-color: white;\n  padding: 20px;\n  width: 200px;\n  z-index: 99;\n\n  button {\n    border: 0;\n    width: 100%;\n    font-family: SF Pro Display;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 16px;\n    line-height: 141.7%;\n    color: #000000;\n    text-align: left;\n    padding: 15px 0;\n    border-bottom: 1px solid #e8e8e8;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    cursor: pointer;\n\n    &:hover {\n      background-color: #f8f8f8;\n    }\n\n    svg {\n      transform: none !important;\n      width: 15px;\n    }\n    div {\n      margin-right: 10px;\n    }\n\n    &:last-child {\n      border-bottom: 0;\n    }\n  }\n"]);return H=function(){return e},e}const z=s.b.div(H()),B={display:"none",opacity:0};var S=({book:e,onUpdate:n})=>(console.log(e),r.a.createElement(z,{className:"bookOptions",style:B},r.a.createElement(w,{size:"small"},"Move to:"),r.a.createElement("button",{onClick:()=>{console.log("Test",e),p(e,"wantToRead").then(e=>n(e))}},r.a.createElement(L,{checked:"wantToRead"===e.shelf}),"Want to read"),r.a.createElement("button",{onClick:()=>{console.log("Test",e),p(e,"read").then(e=>n(e))}},r.a.createElement(L,{checked:"read"===e.shelf}),"Read"),r.a.createElement("button",{onClick:()=>{console.log("Test",e),p(e,"currentlyReading").then(e=>n(e))}},r.a.createElement(L,{checked:"currentlyReading"===e.shelf}),"Currently Reading"),r.a.createElement("button",null,r.a.createElement(L,{checked:!e.shelf}),"None")));function R(){const e=Object(l.a)(["\n  width: 25px;\n"]);return R=function(){return e},e}function M(){const e=Object(l.a)(["\n  width: 50px;\n  height: 50px;\n  background-color: #cf9e6e;\n  position: absolute;\n  top: 125px;\n  left: 75px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n\n  &:hover {\n    .bookOptions {\n      display: block !important;\n      opacity: 100% !important;\n    }\n    svg {\n      transform: rotate(180deg);\n    }\n  }\n"]);return M=function(){return e},e}function Z(){const e=Object(l.a)(["\n  width: 100%;\n  height: 300px;\n  background-size: cover;\n  background-repeat: no-repeat;\n\n  &:hover {\n    box-shadow: 3px 4px 11px rgba(0, 0, 0, 0.25);\n    background-size: cover;\n    background-repeat: no-repeat;\n  }\n"]);return Z=function(){return e},e}function V(){const e=Object(l.a)(["\n  width: 200px;\n  margin-right: 20px;\n  position: relative;\n  transition: all 0.2s ease-in;\n\n  &:last-child {\n    margin-right: 0;\n  }\n  &:hover {\n    .moreOptions {\n      display: flex !important;\n      opacity: 100% !important;\n    }\n  }\n"]);return V=function(){return e},e}const N=s.b.div(V()),D=s.b.div(Z()),T=s.b.div(M()),P=s.b.div(R()),I={display:"none",opacity:0};var U=({book:e,onUpdate:n})=>r.a.createElement(N,null,function(e){if(e.imageLinks)return r.a.createElement(D,{style:{backgroundImage:"url(".concat(e.imageLinks.thumbnail,")")}});return r.a.createElement(D,null,r.a.createElement("svg",{width:"197",height:"301",viewBox:"0 0 197 301",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"197",height:"301",fill:"#EDEDED"}),r.a.createElement("path",{d:"M102.219 173.355L110.654 131H127.064V173.355H102.219Z",stroke:"#B7B7B7","stroke-width":"2"}),r.a.createElement("path",{d:"M95.8447 173.355L87.4097 131H70.9996V173.355H95.8447Z",stroke:"#B7B7B7","stroke-width":"2"}),r.a.createElement("path",{d:"M99.6875 176.121V132.706C99.6875 132.706 104.01 128.759 110.212 126.879C116.414 125 122.053 125 122.053 125V167.287C111.528 167.287 106.829 171.046 99.6875 176.121Z",fill:"#EDEDED",stroke:"#B7B7B7","stroke-width":"2"}),r.a.createElement("path",{d:"M98.3652 176.121V132.706C98.3652 132.706 94.0425 128.759 87.8404 126.879C81.6383 125 76 125 76 125V167.287C86.5248 167.287 91.2234 171.046 98.3652 176.121Z",fill:"#EDEDED",stroke:"#B7B7B7","stroke-width":"2"})))}(e),r.a.createElement(w,{size:"medium"},e.title),(null===e||void 0===e?void 0:e.authors)&&r.a.createElement(C,{size:"medium"},e.authors),r.a.createElement(T,{className:"moreOptions",style:I},r.a.createElement(P,null,r.a.createElement("svg",{width:"23",height:"12",viewBox:"0 0 23 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.6509 10.2407L21.3493 11.7592L11.5001 3.31707L1.65088 11.7592L0.349297 10.2407L11.5001 0.682912L22.6509 10.2407Z",fill:"white"}))),r.a.createElement(S,{book:e,onUpdate:n}))),F=t(8);function A(){const e=Object(l.a)(["\n  width: 1080px;\n  max-width: 80%;\n  background-color: white;\n  margin-top: 100px;\n  margin-left: auto;\n  margin-right: auto;\n  display: flex;\n  flex-wrap: wrap;\n"]);return A=function(){return e},e}function J(){const e=Object(l.a)(["\n  width: 100vw;\n  height: 100vh;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n\n  .searchBar {\n    width: 1080px;\n    max-width: 80%;\n    background-color: #fbfbfb;\n    border: 1px solid #e7e7e7;\n    font-family: SF Pro Display, sans-serif;\n    font-weight: normal;\n    font-size: 16px;\n    line-height: 141.7%;\n    color: #676767;\n    padding: 25px;\n    margin-top: 100px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  .CloseBtn {\n    float: right;\n    font-family: SF Pro Display;\n    font-style: normal;\n    font-weight: bold;\n    font-size: 12px;\n    line-height: 141.7%;\n    color: #000000;\n    margin-right: 2.5%;\n    margin-top: 15px;\n    cursor: pointer;\n    align-items: center;\n    display: flex;\n    justify-content: flex-end;\n\n    svg {\n      margin-right: 6px;\n    }\n  }\n"]);return J=function(){return e},e}class Q extends r.a.Component{constructor(...e){super(...e),this.state={searchQuery:"",searchResults:[]},this.updateQuery=e=>{var n;(n=e,fetch("".concat(d,"/search"),{method:"POST",headers:Object(c.a)({},u,{"Content-Type":"application/json"}),body:JSON.stringify({query:n})}).then(e=>e.json()).then(e=>e.books)).then(e=>{if(!e||e.error)return this.setState({searchResults:[]});this.setState({searchResults:e})})}}render(){const e=this.state,n=e.searchResults;e.searchQuery;return console.log(this.state.searchResults),r.a.createElement(W,null,r.a.createElement(F.b,{to:"/",className:"CloseBtn"},r.a.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.77692 9.38775L-0.000151038 1.61069L1.41406 0.196472L9.19113 7.97354L7.77692 9.38775Z",fill:"black"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.222782 7.77707L7.99985 1.54972e-06L9.41406 1.41422L1.637 9.19128L0.222782 7.77707Z",fill:"black"})),"Close"),r.a.createElement("input",{type:"text",placeholder:"Search by title or author",className:"searchBar",onChange:e=>this.updateQuery(e.target.value)}),r.a.createElement(q,null,n&&n.map(e=>(e.shelf||(e.shelf=this.props.bookIndex[e.id]),r.a.createElement(U,{book:e,onUpdate:this.props.onUpdate,key:e.id,alreadyOnShelf:!0})))))}}const W=s.b.div(J()),q=s.b.div(A());var G=Q;function K(){const e=Object(l.a)(["\n  height: 16px;\n"]);return K=function(){return e},e}function X(){const e=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 95%;\n  padding: 15px 0;\n  margin: 0 auto;\n  position: fixed;\n  top: 0;\n  left: 2.5%;\n\n  .SearchIcon {\n    width: 16px;\n    height: 16px;\n  }\n"]);return X=function(){return e},e}const Y=s.b.div(X()),$=s.b.div(K());var _=({onNavigate:e})=>r.a.createElement(Y,null,r.a.createElement($,null,r.a.createElement("svg",{width:"68",height:"16",viewBox:"0 0 68 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12.875 12V0.726562H10.1406L6.9375 8.82031H6.875L3.67188 0.726562H0.9375V12H3.03906V4.39062H3.10156L6.16406 12H7.64844L10.7109 4.39062H10.7734V12H12.875Z",fill:"black"}),r.a.createElement("path",{d:"M15.6328 15.1016C17.7656 15.1016 18.8203 14.3281 19.5312 12.1797L22.4141 3.625H20.0078L18.2344 10.1719H18.1875L16.4062 3.625H13.9062L16.8203 12C16.8281 12.0391 16.7422 12.3672 16.7422 12.4062C16.5859 13.0703 16.1719 13.3359 15.3438 13.3359C15.2578 13.3359 14.8438 13.3281 14.7656 13.3125V15.0781C14.8438 15.0938 15.5469 15.1016 15.6328 15.1016Z",fill:"black"}),r.a.createElement("path",{d:"M28.4453 12C30.8516 12 32.3438 10.7578 32.3438 8.77344C32.3438 7.28125 31.2188 6.16406 29.6875 6.04688V5.98438C30.8828 5.80469 31.8047 4.77344 31.8047 3.53906C31.8047 1.8125 30.4766 0.726562 28.3594 0.726562H23.4531V12H28.4453ZM25.8125 2.48438H27.75C28.8516 2.48438 29.4844 3 29.4844 3.90625C29.4844 4.85938 28.7656 5.41406 27.5078 5.41406H25.8125V2.48438ZM25.8125 10.2422V6.96875H27.7891C29.1797 6.96875 29.9375 7.53125 29.9375 8.58594C29.9375 9.66406 29.2031 10.2422 27.8438 10.2422H25.8125Z",fill:"black"}),r.a.createElement("path",{d:"M37.3359 12.1797C39.8672 12.1797 41.4844 10.5625 41.4844 7.80469C41.4844 5.08594 39.8438 3.44531 37.3359 3.44531C34.8281 3.44531 33.1875 5.09375 33.1875 7.80469C33.1875 10.5547 34.8047 12.1797 37.3359 12.1797ZM37.3359 10.4375C36.2109 10.4375 35.5 9.49219 35.5 7.8125C35.5 6.14844 36.2266 5.1875 37.3359 5.1875C38.4453 5.1875 39.1641 6.14844 39.1641 7.8125C39.1641 9.49219 38.4531 10.4375 37.3359 10.4375Z",fill:"black"}),r.a.createElement("path",{d:"M46.5078 12.1797C49.0391 12.1797 50.6562 10.5625 50.6562 7.80469C50.6562 5.08594 49.0156 3.44531 46.5078 3.44531C44 3.44531 42.3594 5.09375 42.3594 7.80469C42.3594 10.5547 43.9766 12.1797 46.5078 12.1797ZM46.5078 10.4375C45.3828 10.4375 44.6719 9.49219 44.6719 7.8125C44.6719 6.14844 45.3984 5.1875 46.5078 5.1875C47.6172 5.1875 48.3359 6.14844 48.3359 7.8125C48.3359 9.49219 47.625 10.4375 46.5078 10.4375Z",fill:"black"}),r.a.createElement("path",{d:"M54.2031 6.98438H54.1719V0.726562H51.8906V12H54.1719V9.23438L54.7656 8.59375L57.1641 12H59.7891L56.4375 7.21875L59.6328 3.625H57.0469L54.2031 6.98438Z",fill:"black"}),r.a.createElement("path",{d:"M60.1484 6.08594C60.1484 7.34375 60.9688 8.15625 62.5859 8.5L64.0156 8.79688C64.8359 8.98438 65.125 9.23438 65.125 9.67969C65.125 10.2266 64.5938 10.5781 63.7344 10.5781C62.8281 10.5781 62.3047 10.1875 62.1641 9.45312H59.9375C60.0859 11.1016 61.4219 12.1797 63.7344 12.1797C65.8906 12.1797 67.3984 11.0938 67.3984 9.44531C67.3984 8.21875 66.6797 7.53125 64.9297 7.16406L63.5 6.85938C62.6562 6.67969 62.3438 6.39062 62.3438 5.96094C62.3438 5.40625 62.8672 5.04688 63.6562 5.04688C64.5 5.04688 65.0078 5.50781 65.0781 6.1875H67.1797C67.1328 4.54688 65.8047 3.44531 63.6562 3.44531C61.5234 3.44531 60.1484 4.49219 60.1484 6.08594Z",fill:"black"}))),r.a.createElement(F.b,{to:"/search",className:"SearchIcon"},r.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"6.75",cy:"6.75",r:"5.75",stroke:"black","stroke-width":"2"}),r.a.createElement("path",{d:"M10.5 10.5L15 15",stroke:"black","stroke-width":"2"})))),ee=t(7);function ne(){const e=Object(l.a)(["\n  display: flex;\n  flex-direction: row;\n  margin-top: 50px;\n  flex-wrap: wrap;\n"]);return ne=function(){return e},e}function te(){const e=Object(l.a)([""]);return te=function(){return e},e}function ae(){const e=Object(l.a)([""]);return ae=function(){return e},e}function re(){const e=Object(l.a)(["\n  background-color: #f6f3f0;\n"]);return re=function(){return e},e}function oe(){const e=Object(l.a)(["\n  max-width: 1080px;\n  width: 80%;\n  margin: 0 auto;\n  padding: 60px 0;\n"]);return oe=function(){return e},e}class ie extends r.a.Component{constructor(...e){super(...e),this.state={books:{},shelves:{currentlyReading:[],wantToRead:[],read:[]}}}getBookIndex(){const e={};return["currentlyReading","wantToRead","read"].forEach(n=>{this.state.shelves[n].forEach(t=>{e[t]=n})}),e}componentDidMount(){fetch("".concat(d,"/books"),{headers:u}).then(e=>e.json()).then(e=>e.books).then(e=>this.setState({books:e.reduce((e,n)=>(e[n.id]=n,e),{}),shelves:{currentlyReading:e.filter(e=>"currentlyReading"===e.shelf).map(e=>e.id),wantToRead:e.filter(e=>"wantToRead"===e.shelf).map(e=>e.id),read:e.filter(e=>"read"===e.shelf).map(e=>e.id)}}))}render(){const e=e=>{this.setState(Object(c.a)({},this.state,{shelves:Object(c.a)({},e)}))},n=n=>r.a.createElement(U,{book:n,onUpdate:e,key:n.id});return r.a.createElement("div",{className:"app"},r.a.createElement(ee.a,{exact:!0,path:"/",render:()=>r.a.createElement("div",{className:"list-books"},r.a.createElement(_,{onNavigate:()=>{this.setState(()=>({showSearchPage:!0}))}}),r.a.createElement(ce,null,r.a.createElement(le,null,r.a.createElement(w,{size:"big"},"Currently Reading"),r.a.createElement(he,null,this.state.shelves.currentlyReading.map(e=>n(this.state.books[e]))))),r.a.createElement(de,null,r.a.createElement(le,null,r.a.createElement(w,{size:"big"},"Want to Read"),r.a.createElement(he,null,this.state.shelves.wantToRead.map(e=>n(this.state.books[e]))))),r.a.createElement(se,null,r.a.createElement(le,null,r.a.createElement(w,{size:"big"},"Read"),r.a.createElement(he,null,this.state.shelves.read.map(e=>n(this.state.books[e]))))))}),r.a.createElement(ee.a,{exact:!0,path:"/search",render:()=>r.a.createElement(G,{bookIndex:this.getBookIndex(),onUpdate:e,onNavigate:()=>{this.setState(()=>({showSearchPage:!1}))}})}))}}const le=s.b.div(oe()),ce=s.b.div(re()),se=s.b.div(ae()),de=s.b.div(te()),he=s.b.div(ne());var ue=ie;t(36);i.a.render(r.a.createElement(F.a,null,r.a.createElement(ue,null)," "),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.93008486.chunk.js.map